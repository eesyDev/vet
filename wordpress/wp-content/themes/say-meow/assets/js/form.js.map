{"version":3,"file":"form.js","sources":["form.js"],"sourcesContent":["(function ($) {\r\n    $(\"form\").on('submit', function () {\r\n        let form = $(this),\r\n            emailApprove = 0;\r\n\r\n        // Удаляем предыдущие ошибки\r\n        form.find('.error').remove();\r\n        form.find('.required').removeClass('required');\r\n\r\n        // Проверка полей\r\n        form.find('input[data-required], textarea[data-required]').each(function () {\r\n            let errorText = $(this).attr('data-error') || 'This field is required';\r\n\r\n            if ($(this).is(':checkbox')) {\r\n                // Проверка чекбоксов\r\n                if (!$(this).is(':checked')) {\r\n                    $(this).closest('.inp-wrp').append(`<div class=\"error\">${errorText}</div>`);\r\n                    $(this).addClass('required');\r\n                }\r\n            } else {\r\n                // Проверка текстовых полей и textarea\r\n                if (!$(this).val().trim()) {\r\n                    $(this).closest('.inp-wrp').append(`<div class=\"error\">${errorText}</div>`);\r\n                    $(this).addClass('required');\r\n                }\r\n            }\r\n        });\r\n\r\n        // Проверка email (если присутствует)\r\n        form.find('input.inp-email').each(function () {\r\n            let emailInput = $(this),\r\n                pattern = /^([a-z0-9_\\.-])+@[a-z0-9-]+\\.([a-z]{2,4}\\.)?[a-z]{2,4}$/i;\r\n            if (emailInput.val().trim() && !pattern.test(emailInput.val())) {\r\n                emailInput.closest('.inp-wrp').append(`<div class=\"error\">Invalid email address</div>`);\r\n                emailInput.addClass('required');\r\n                emailApprove = 0;\r\n            } else {\r\n                emailApprove = 1;\r\n            }\r\n        });\r\n\r\n        // Если есть ошибки, отменяем отправку\r\n        if (form.find('.required').length || emailApprove === 0) {\r\n            return false;\r\n        }\r\n\r\n        // Ваш AJAX-запрос\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"/mailer/mail.php\",\r\n            data: form.serialize(),\r\n            cache: false,\r\n            success: function () {\r\n                $('#thanks-popup').show();\r\n                form[0].reset(); // Сбрасываем форму\r\n            },\r\n            error: function () {\r\n                alert('Error occurred while submitting the form.');\r\n            }\r\n        });\r\n\r\n        return false; // Предотвращаем стандартную отправку формы\r\n    });\r\n\r\n    // Удаление ошибок при фокусе/изменении\r\n    $('input, textarea').on('click focus change', function () {\r\n        $(this).removeClass('required');\r\n        $(this).closest('.inp-wrp').find('.error').remove();\r\n    });\r\n\r\n    // Удаление ошибки для чекбокса при изменении\r\n    $('input[type=\"checkbox\"][data-required]').on('change', function () {\r\n        if ($(this).is(':checked')) {\r\n            $(this).removeClass('required');\r\n            $(this).closest('label').find('.error').remove();\r\n        }\r\n    });\r\n})(jQuery);"],"names":["$","on","let","form","this","emailApprove","find","remove","removeClass","each","errorText","attr","is","closest","append","addClass","val","trim","emailInput","test","length","ajax","type","url","data","serialize","cache","success","show","reset","error","alert","jQuery"],"mappings":"CAAWA,IACPA,EAAE,MAAM,EAAEC,GAAG,SAAU,WACnBC,IAAIC,EAAOH,EAAEI,IAAI,EACbC,EAAe,EA0DnB,OAvDAF,EAAKG,KAAK,QAAQ,EAAEC,OAAO,EAC3BJ,EAAKG,KAAK,WAAW,EAAEE,YAAY,UAAU,EAG7CL,EAAKG,KAAK,+CAA+C,EAAEG,KAAK,WAC5DP,IAAIQ,EAAYV,EAAEI,IAAI,EAAEO,KAAK,YAAY,GAAK,yBAE1CX,EAAEI,IAAI,EAAEQ,GAAG,WAAW,EAEjBZ,EAAEI,IAAI,EAAEQ,GAAG,UAAU,IACtBZ,EAAEI,IAAI,EAAES,QAAQ,UAAU,EAAEC,6BAA6BJ,SAAiB,EAC1EV,EAAEI,IAAI,EAAEW,SAAS,UAAU,GAI1Bf,EAAEI,IAAI,EAAEY,IAAI,EAAEC,KAAK,IACpBjB,EAAEI,IAAI,EAAES,QAAQ,UAAU,EAAEC,6BAA6BJ,SAAiB,EAC1EV,EAAEI,IAAI,EAAEW,SAAS,UAAU,EAGvC,CAAC,EAGDZ,EAAKG,KAAK,iBAAiB,EAAEG,KAAK,WAC9BP,IAAIgB,EAAalB,EAAEI,IAAI,EAKnBC,EAHAa,EAAWF,IAAI,EAAEC,KAAK,GAAK,CADjB,2DAC0BE,KAAKD,EAAWF,IAAI,CAAC,GACzDE,EAAWL,QAAQ,UAAU,EAAEC,OAAO,gDAAgD,EACtFI,EAAWH,SAAS,UAAU,EACf,GAEA,CAEvB,CAAC,EAGGZ,EAAKG,KAAK,WAAW,EAAEc,QAA2B,IAAjBf,GAKrCL,EAAEqB,KAAK,CACHC,KAAM,OACNC,IAAK,mBACLC,KAAMrB,EAAKsB,UAAU,EACrBC,MAAO,CAAA,EACPC,QAAS,WACL3B,EAAE,eAAe,EAAE4B,KAAK,EACxBzB,EAAK,GAAG0B,MAAM,CAClB,EACAC,MAAO,WACHC,MAAM,2CAA2C,CACrD,CACJ,CAAC,EAEM,CAAA,CACX,CAAC,EAGD/B,EAAE,iBAAiB,EAAEC,GAAG,qBAAsB,WAC1CD,EAAEI,IAAI,EAAEI,YAAY,UAAU,EAC9BR,EAAEI,IAAI,EAAES,QAAQ,UAAU,EAAEP,KAAK,QAAQ,EAAEC,OAAO,CACtD,CAAC,EAGDP,EAAE,uCAAuC,EAAEC,GAAG,SAAU,WAChDD,EAAEI,IAAI,EAAEQ,GAAG,UAAU,IACrBZ,EAAEI,IAAI,EAAEI,YAAY,UAAU,EAC9BR,EAAEI,IAAI,EAAES,QAAQ,OAAO,EAAEP,KAAK,QAAQ,EAAEC,OAAO,EAEvD,CAAC,CACJ,GAAEyB,MAAM"}