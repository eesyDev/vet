{"version":3,"file":"main.js","sources":["main.js"],"sourcesContent":["// lazyload for images\r\nfunction img_loader() {\r\n    setTimeout(function(){\r\n        $('body').find('img[data-src]').each(function(){\r\n            var src = $(this).attr('data-src');\r\n            var srcset = $(this).attr('data-srcset');\r\n            var classes = $(this).attr('class');\r\n            var alt = $(this).attr('alt');\r\n            var title = $(this).attr('title');\r\n            if (src) {\r\n              var img = new Image();\r\n              $(img).hide();\r\n              $(img).on('load', function(){\r\n                $(this).fadeIn(400);\r\n                setTimeout(function(){\r\n                    $(img).addClass('transition');\r\n                },400);\r\n              });\r\n              $(img).attr('srcset', srcset );  \r\n              $(img).attr('src', src );\r\n              $(img).attr('alt', alt);\r\n              $(img).attr('title', title);\r\n              $(img).addClass(classes);\r\n              $(this).replaceWith(img);\r\n            }\r\n        });\r\n    }, 150);\r\n}\r\n\r\n\r\n// calc block position in viewport\r\n$.fn.percentOfViewport = function() {\r\n    var viewportHeight = $(window).height();\r\n\r\n    var elementTop = $(this).offset().top;\r\n    var elementBottom = elementTop + $(this).height();\r\n\r\n    \r\n    var viewportTop = $(window).scrollTop();\r\n    var viewportBottom = viewportTop + viewportHeight;\r\n    var viewportCenter = viewportTop + (viewportHeight/2);\r\n\r\n    var top_to_top_percent = (elementTop - viewportTop) / viewportHeight * 100;\r\n    var bottom_to_top_percent = (elementBottom - viewportTop) / viewportHeight * 100;\r\n\r\n    var top_to_bottom_percent = (viewportBottom - elementTop) / viewportHeight * 100;\r\n    var bottom_to_bottom_percent = (viewportBottom - elementBottom) / viewportHeight * 100;\r\n\r\n    return {\r\n        ELtop_to_VPtop:     top_to_top_percent,\r\n        ELbottom_to_VPtop:  bottom_to_top_percent,\r\n        ELtop_to_VPbottom:  top_to_bottom_percent,\r\n        ELbottom_to_VPbottom:  bottom_to_bottom_percent,\r\n        viewportHeight: viewportHeight\r\n    };\r\n};\r\n\r\n\r\n// check is block is in viewport\r\n$.fn.isInViewport = function() {\r\n    var p = $(this).percentOfViewport();\r\n\r\n    return  p.ELtop_to_VPtop < 100 && \r\n            p.ELbottom_to_VPtop > 0;\r\n};\r\n\r\n$(function() {\r\n\r\n    // sandwich menu toggle\r\n    $('.sandwich').on('click touch', function () {\r\n        $(this).toggleClass('active');\r\n        $('.header__navigation').slideToggle();\r\n\r\n        let navigationWrapper = $(\".header__wrapper--navigation\");\r\n        if (navigationWrapper.css(\"padding-bottom\") === \"40px\") {\r\n            navigationWrapper.removeAttr(\"style\");\r\n        } else {\r\n            navigationWrapper.css({\r\n                \"padding-bottom\": \"40px\",\r\n            });\r\n        }\r\n\r\n    });\r\n\r\n    $('.inp-phone').mask('+38 (999) 999-99-99');\r\n\r\n    // header language link\r\n    $(\".language-link--toggle\").on(\"click\", function (event) {\r\n        event.preventDefault();\r\n\r\n        let $link = $(this);\r\n        let $icon = $link.find(\".language-link__icon\");\r\n        let $dropdown = $(\".language-link__dropdown\");\r\n\r\n        $dropdown.toggle();\r\n        $icon.toggleClass(\"is-active\");\r\n\r\n        let offset = $link.offset();\r\n        let linkHeight = $link.outerHeight();\r\n\r\n        $dropdown.css({\r\n            position: \"fixed\",\r\n            top: offset.top + linkHeight - $(window).scrollTop() + \"px\",\r\n            left: offset.left + \"px\",\r\n        });\r\n    });\r\n\r\n    $(document).on(\"click\", function (event) {\r\n        let $target = $(event.target);\r\n        if (\r\n            !$target.closest(\".language-link--toggle\").length &&\r\n            !$target.closest(\".language-link__dropdown\").length\r\n        ) {\r\n            $(\".language-link__dropdown\").hide();\r\n            $(\".language-link__icon\").removeClass(\"is-active\");\r\n        }\r\n    });\r\n\r\n    // smooth scrolling to anchor\r\n    $('a.smooth, nav > ul li a').on('click touch', function(){\r\n        var id = $(this).attr('href');\r\n        var loc_url = window.location.pathname;\r\n        var pos = ($(id).offset().top) - $('header').outerHeight() - 49;\r\n        $('html, body').animate({scrollTop: pos }, 1000);\r\n        return false;\r\n    });\r\n\r\n    // video play on click\r\n    $('.container').on('click touch', '.js-play-video', function(){\r\n        var video = $(this).siblings('video')[0];\r\n        video.play();\r\n        video.controls=\"controls\";\r\n        $(this).hide();\r\n    });\r\n\r\n    // opening popups\r\n    $('body').on('click touch', '.open-dialog, .open-popup, .open-form, .open-modal, .open-dialog a, .open-popup a, .open-form a, .open-modal a', function(){\r\n        var category = $(this).attr('href');\r\n        var categoryForm = $('.dialogs ' + category);\r\n        $('.dialogs .popup').removeClass('active').hide();\r\n        categoryForm.show();\r\n        $('.dialogs').show();\r\n        $('.dialogs').animate({'opacity':1}, 200, function() {\r\n            categoryForm.addClass('active');\r\n        });\r\n        $('body').css({'overflow-y':'hidden'});\r\n        return false;\r\n    });\r\n\r\n    // closing popups\r\n    $('.dialogs').on('click touch', '.close, .close-bg', function() {\r\n        $('.dialogs .popup').removeClass('active');\r\n        $('.dialogs').animate({'opacity':0}, 200, function() {\r\n            $('.dialogs').hide();\r\n            $('.dialogs .popup').hide();\r\n            $('.dialogs .thanks-popup').hide();\r\n        });\r\n        $('body').css({'overflow-y':'auto'});\r\n    });\r\n    $(document).keyup(function(e) {\r\n      if (e.keyCode === 27) $('.dialogs .popup.active .close').click(); // esc\r\n    });\r\n\r\n    // all sliders\r\n    // const swiper = new Swiper('.swiper', {\r\n    //     slidesPerView: 'auto',\r\n    //     speed: 400,\r\n    //     spaceBetween: 20,\r\n    //     navigation: {\r\n    //         nextEl: '.slider-next',\r\n    //         prevEl: '.slider-prev',\r\n    //     },\r\n    //     pagination: {\r\n    //         el: '.slider-pagination',\r\n    //         type: 'bullets',\r\n    //     },\r\n    // });\r\n});\r\n\r\n\r\n$(window).on('load scroll', function(){\r\n    var scrollTop = $(window).scrollTop();\r\n\r\n\r\n    // start animations when it is in viewport but pause when out of it\r\n    // .out-of-viewport doing nothing if animation item can be runned only once\r\n    $('.js-wait-animation').each(function(){\r\n        if ( $(this).isInViewport() ) {\r\n            $(this).addClass('animate')\r\n                        .removeClass('out-of-viewport');\r\n        } else {\r\n            $(this).addClass('out-of-viewport');\r\n        }\r\n    });\r\n});\r\n\r\n\r\n$(window).on('load', function(){\r\n\r\n    img_loader();\r\n    \r\n});"],"names":["img_loader","setTimeout","$","find","each","img","src","this","attr","srcset","classes","alt","title","Image","hide","on","fadeIn","addClass","replaceWith","fn","percentOfViewport","viewportHeight","window","height","elementTop","offset","top","elementBottom","viewportTop","scrollTop","viewportBottom","ELtop_to_VPtop","ELbottom_to_VPtop","ELtop_to_VPbottom","ELbottom_to_VPbottom","isInViewport","p","toggleClass","slideToggle","let","navigationWrapper","css","removeAttr","padding-bottom","mask","event","preventDefault","$link","$icon","$dropdown","toggle","linkHeight","outerHeight","position","left","document","$target","target","closest","length","removeClass","id","pos","location","pathname","animate","video","siblings","play","controls","category","categoryForm","show","opacity","overflow-y","keyup","e","keyCode","click"],"mappings":"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"}