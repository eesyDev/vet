{"version":3,"file":"main.js","sources":["main.js"],"sourcesContent":["(function ($) {\r\n\r\n    // lazyload for images\r\n    function img_loader() {\r\n        setTimeout(function(){\r\n            $('body').find('img[data-src]').each(function(){\r\n                var src = $(this).attr('data-src');\r\n                var srcset = $(this).attr('data-srcset');\r\n                var classes = $(this).attr('class');\r\n                var alt = $(this).attr('alt');\r\n                var title = $(this).attr('title');\r\n                if (src) {\r\n                    var img = new Image();\r\n                    $(img).hide();\r\n                    $(img).on('load', function(){\r\n                        $(this).fadeIn(400);\r\n                        setTimeout(function(){\r\n                            $(img).addClass('transition');\r\n                        },400);\r\n                    });\r\n                    $(img).attr('srcset', srcset );\r\n                    $(img).attr('src', src );\r\n                    $(img).attr('alt', alt);\r\n                    $(img).attr('title', title);\r\n                    $(img).addClass(classes);\r\n                    $(this).replaceWith(img);\r\n                }\r\n            });\r\n        }, 150);\r\n    }\r\n\r\n    // calc block position in viewport\r\n    $.fn.percentOfViewport = function() {\r\n        var viewportHeight = $(window).height();\r\n\r\n        var elementTop = $(this).offset().top;\r\n        var elementBottom = elementTop + $(this).height();\r\n\r\n\r\n        var viewportTop = $(window).scrollTop();\r\n        var viewportBottom = viewportTop + viewportHeight;\r\n        //var viewportCenter = viewportTop + (viewportHeight/2);\r\n\r\n        var top_to_top_percent = (elementTop - viewportTop) / viewportHeight * 100;\r\n        var bottom_to_top_percent = (elementBottom - viewportTop) / viewportHeight * 100;\r\n\r\n        var top_to_bottom_percent = (viewportBottom - elementTop) / viewportHeight * 100;\r\n        var bottom_to_bottom_percent = (viewportBottom - elementBottom) / viewportHeight * 100;\r\n\r\n        return {\r\n            ELtop_to_VPtop:     top_to_top_percent,\r\n            ELbottom_to_VPtop:  bottom_to_top_percent,\r\n            ELtop_to_VPbottom:  top_to_bottom_percent,\r\n            ELbottom_to_VPbottom:  bottom_to_bottom_percent,\r\n            viewportHeight: viewportHeight\r\n        };\r\n    };\r\n\r\n\r\n    // check is block is in viewport\r\n    $.fn.isInViewport = function() {\r\n        var p = $(this).percentOfViewport();\r\n\r\n        return  p.ELtop_to_VPtop < 100 &&\r\n            p.ELbottom_to_VPtop > 0;\r\n    };\r\n\r\n    // sandwich menu toggle\r\n    $('.sandwich').on('click touch', function () {\r\n        $(this).toggleClass('active');\r\n        $('.header__navigation').slideToggle();\r\n\r\n        let navigationWrapper = $(\".header__wrapper--navigation\");\r\n        if (navigationWrapper.css(\"padding-bottom\") === \"40px\") {\r\n            navigationWrapper.removeAttr(\"style\");\r\n        } else {\r\n            navigationWrapper.css({\r\n                \"padding-bottom\": \"40px\",\r\n            });\r\n        }\r\n\r\n    });\r\n\r\n    $('.inp-phone').mask('+38 (999) 999-99-99');\r\n\r\n    // smooth scrolling to anchor\r\n    $('a.smooth, nav > ul li a').on('click touch', function(){\r\n        var id = $(this).attr('href');\r\n        var loc_url = window.location.pathname;\r\n        var pos = ($(id).offset().top) - $('header').outerHeight() - 49;\r\n        $('html, body').animate({scrollTop: pos }, 1000);\r\n        return false;\r\n    });\r\n\r\n    // video play on click\r\n    $('.container').on('click touch', '.js-play-video', function(){\r\n        let video = $(this).siblings('video')[0];\r\n        video.play();\r\n        video.controls=\"controls\";\r\n        $(this).hide();\r\n    });\r\n\r\n    // Swiper\r\n    const previewProductCard = new Swiper(\".gallery > .gallery__preview.swiper-container\", {\r\n        direction: 'vertical',\r\n        slidesPerView: 'auto',\r\n        spaceBetween: 8,\r\n    });\r\n\r\n    const mainProductCard = new Swiper(\".gallery > .gallery__media.swiper-container\", {\r\n        spaceBetween: 0,\r\n        thumbs: {\r\n            swiper: previewProductCard,\r\n        }\r\n    });\r\n\r\n    const offersCardSlider = new Swiper(\".offers-card__slider.swiper-container\", {\r\n        slidesPerView: 'auto',\r\n        direction: 'horizontal',\r\n        slidesOffsetBefore: 240, // смещение слева в px\r\n        slidesOffsetAfter: 240, // смещение справа в px\r\n        spaceBetween: 6,\r\n        navigation: {\r\n            nextEl: \".offers-card__navigation .slider-nav__next\",\r\n            prevEl: \".offers-card__navigation .slider-nav__prev\",\r\n        },\r\n    });\r\n\r\n    const benefitsCardSlider = new Swiper(\".benefits-card__slider.swiper-container\", {\r\n        slidesPerView: 'auto',\r\n        direction: 'horizontal',\r\n        slidesOffsetBefore: 240, // смещение слева в px\r\n        slidesOffsetAfter: 240, // смещение справа в px\r\n        spaceBetween: 40,\r\n        navigation: {\r\n            nextEl: \".benefits-card__navigation .slider-nav__next\",\r\n            prevEl: \".benefits-card__navigation .slider-nav__prev\",\r\n        },\r\n    });\r\n\r\n    const reviewsSlider = new Swiper('.reviews > .swiper-container', {\r\n        slidesPerView: 3,\r\n        spaceBetween: 30,\r\n        pagination: {\r\n            el: '.reviews > .swiper-pagination-clickable',\r\n            clickable: true,\r\n        }\r\n    });\r\n\r\n    function popupGallery() {\r\n        const previewPopUpGallery = new Swiper(\".popup-gallery > .popup-gallery__preview\", {\r\n            direction: 'vertical',\r\n            slidesPerView: 'auto',\r\n            spaceBetween: 8,\r\n        });\r\n\r\n        const mainPopUpGallery = new Swiper(\".popup-gallery > .popup-gallery__media\", {\r\n            spaceBetween: 0,\r\n            thumbs: {\r\n                swiper: previewPopUpGallery,\r\n            }\r\n        });\r\n    }\r\n\r\n    // opening popups\r\n    $('body').on('click touch', '.open-dialog, .open-popup, .open-form, .open-modal', function (event) {\r\n        event.preventDefault();\r\n\r\n        const category = $(this).attr('href');\r\n        const $dialogs = $('.dialogs');\r\n        const $categoryDialogs = $dialogs.find(category);\r\n        const $flexPopup = $dialogs.find('.flex-popup');\r\n        const popupCategory = category.slice(1);\r\n\r\n        if (popupCategory !== 'policy') {\r\n            localStorage.setItem('popup', popupCategory);\r\n        }\r\n\r\n        if (popupCategory === 'list') {\r\n            $('body').css({ 'overflow-y': 'hidden' });\r\n            $dialogs.css({ 'overflow-y': 'hidden' });\r\n        }\r\n\r\n        if ( popupCategory === 'work-offer' || popupCategory === 'details' ) {\r\n            $('body').css({ 'overflow-y': 'hidden' });\r\n            $dialogs.css({ 'overflow-y': 'auto' });\r\n        }\r\n\r\n        $dialogs.find('.popup').removeClass('active').hide();\r\n\r\n        if (!$categoryDialogs.length) {\r\n            console.log(`Попап с ID ${category} не найден.`);\r\n            return false;\r\n        }\r\n\r\n        $dialogs.find('.popup').removeClass('active').hide();\r\n        $categoryDialogs.show();\r\n        $dialogs.show();\r\n\r\n        $flexPopup.addClass('popup--' + popupCategory);\r\n        $dialogs.animate({ opacity: 1 }, 300, () => {\r\n            $categoryDialogs.addClass('active');\r\n            $('body').css({ 'overflow-y': 'hidden' });\r\n        });\r\n\r\n        if (popupCategory === 'gallery') {\r\n            popupGallery()\r\n        }\r\n\r\n        return false;\r\n    });\r\n\r\n    // closing popups\r\n    $('.dialogs').on('click touch', '.close, .close-bg', function () {\r\n        const $dialogs = $('.dialogs');\r\n        const $flexPopup = $dialogs.find('.flex-popup');\r\n        const $activePopup = $dialogs.find('.popup.active');\r\n        const popupId = $activePopup.attr('id');\r\n\r\n        const bodyScroll = () => {\r\n            $('body').css({ 'overflow-y': 'auto' });\r\n        };\r\n\r\n        const removeClassPopup = () => {\r\n            $flexPopup.removeClass(function (index, className) {\r\n                return (className.match(/popup--\\S+/g) || []).join(' ');\r\n            });\r\n        };\r\n\r\n        const $popupActive = $flexPopup.find('.popup.active');\r\n\r\n        if (popupId === 'cart') { // Корзина\r\n            $popupActive.animate({ right: '-100%', opacity: 0 }, 600, function () {\r\n                $dialogs.animate({ opacity: 0 }, 300, function () {\r\n                    $dialogs.find('.popup').removeClass('active').hide();\r\n                    $popupActive.removeAttr('style');\r\n                    $dialogs.hide();\r\n                    $dialogs.find('.thanks-popup').hide();\r\n                    removeClassPopup();\r\n                });\r\n                bodyScroll();\r\n            });\r\n\r\n        } else if (popupId === 'policy') { // Политика конфиденциальности\r\n\r\n            $popupActive.removeClass('active').hide();\r\n\r\n            let popupCategory = localStorage.getItem('popup');\r\n\r\n            // Открываем popup с соответствующим ID\r\n            const $popupToOpen = $('.dialogs #' + popupCategory);\r\n            if ($popupToOpen.length) {\r\n                $popupToOpen.addClass('active').show();\r\n                $dialogs.show();\r\n            } else {\r\n                console.log('Попап с ID ' + popupCategory + ' не найден.');\r\n            }\r\n\r\n        } else if (popupId === 'details') { // Детали преимуществ\r\n\r\n            $popupActive.animate({ top: '100%', opacity: 0 }, 600, function () {\r\n                $dialogs.animate({ opacity: 0 }, 400, function () {\r\n                    $dialogs.find('.popup').removeClass('active').hide();\r\n                    $popupActive.removeAttr('style');\r\n                    $dialogs.hide();\r\n                    removeClassPopup();\r\n                });\r\n                bodyScroll();\r\n            });\r\n\r\n        } else if (popupId === 'list') { // Список приютов\r\n\r\n            $popupActive.animate({ bottom: '-100%', opacity: 0 }, 600, function () {\r\n                $dialogs.animate({ opacity: 0 }, 300, function () {\r\n                    $dialogs.find('.popup').removeClass('active').hide();\r\n                    $popupActive.removeAttr('style');\r\n                    $dialogs.hide();\r\n                    removeClassPopup();\r\n                });\r\n                bodyScroll();\r\n            });\r\n\r\n        } else { // Остальные окна\r\n\r\n            $popupActive.removeClass('active').hide();\r\n            $dialogs.animate({ opacity: 0 }, 300, function () {\r\n                $dialogs.hide();\r\n                $dialogs.find('.thanks-popup').hide();\r\n                removeClassPopup();\r\n                bodyScroll();\r\n            });\r\n        }\r\n    });\r\n\r\n    // closing popups pressing esc\r\n    $(document).on('keyup', function (e) {\r\n        if (e.key === 'Escape' || e.keyCode === 27) {\r\n            $('.dialogs .popup.active .close').trigger('click');\r\n        }\r\n    });\r\n\r\n    const DROPDOWN_CLASS = '.dropdown';\r\n\r\n    function initDropdownToggle(btnSelectors) {\r\n        const selectors = btnSelectors.join(',');\r\n\r\n        $(document).on('click touch', selectors, function (e) {\r\n            const $filter = $(this).next(DROPDOWN_CLASS);\r\n            if ($filter.hasClass('active')) {\r\n                $filter.removeClass('active');\r\n                return;\r\n            }\r\n\r\n            $(DROPDOWN_CLASS).removeClass('active');\r\n            $filter.addClass('active');\r\n            e.stopPropagation();\r\n            return false;\r\n        });\r\n\r\n        $(document).on('click touch', function (e) {\r\n            if (!$(e.target).closest(DROPDOWN_CLASS).length) {\r\n                $(DROPDOWN_CLASS).removeClass('active');\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    $(DROPDOWN_CLASS).on('click touch', DROPDOWN_CLASS + '__item', function (e) {\r\n        $(this).toggleClass('active').trigger('filtered');\r\n        e.stopPropagation();\r\n    });\r\n\r\n    $(DROPDOWN_CLASS).on('filtered', DROPDOWN_CLASS + '__item', function () {\r\n        const $filter = $(this).closest(DROPDOWN_CLASS);\r\n        const $list = $('.filtered-list');\r\n\r\n        const activeFilters = $filter.find(DROPDOWN_CLASS + '__item.active').map(function () {\r\n            return $(this).data('filter');\r\n        }).get();\r\n\r\n        const $items = $list.find('.reviews__item');\r\n        $items.hide().removeClass('left right');\r\n\r\n        if (activeFilters.length > 0) {\r\n            let index = 0;\r\n            activeFilters.forEach(filter => {\r\n                $items.filter(`[data-filter*=\"${filter}\"]`).each(function () {\r\n                    $(this).show().addClass(index % 2 === 0 ? 'left' : 'right');\r\n                    index++;\r\n                });\r\n            });\r\n        } else {\r\n            $items.show();\r\n        }\r\n    });\r\n\r\n    // Универсальный переключатель с поддержкой любых количеств видов сеток\r\n    function viewGridSwitcher(btnSelector) {\r\n        const $btnSelector = $(btnSelector);\r\n        $btnSelector.on('click', function (e) {\r\n            e.preventDefault();\r\n            const view = $(this).data('view');\r\n            $btnSelector.removeClass('active');\r\n            $(this).addClass('active');\r\n            const $wrapper = $('.view__wrapper');\r\n            $wrapper.removeClass(function (index, className) {\r\n                return (className.match(/view__wrapper--\\S+/g) || []).join(' ');\r\n            });\r\n            if (view && view !== 'default') {\r\n                $wrapper.addClass(`view__wrapper--${view}`);\r\n            }\r\n        });\r\n    }\r\n\r\n    $(document).on('click touch', '.mini-card__option--link', function (e) {\r\n        e.preventDefault();\r\n        const optionValue = $(this).data('mini-card-option'); // ID товара или опции\r\n        if (!optionValue) return;\r\n        const $card = $(this).closest('.mini-card');\r\n        const $images = $card.find('.mini-card-img');\r\n        $card.find('.mini-card__option--link').removeClass('active');\r\n        $(this).addClass('active');\r\n        $images.removeClass('active').hide();\r\n        $card.find(`.mini-card-img.img-${optionValue}`).addClass('active').fadeIn();\r\n    });\r\n\r\n    $(document).on('click touch', '.product-card__option--link', function (e) {\r\n        e.preventDefault();\r\n        const optionValue = $(this).data('product-card-option'); // ID товара или опции\r\n        if (!optionValue) return;\r\n        const newTitle = $(this).data('product-card-title');\r\n        if (!newTitle) return;\r\n        const $optionContainer = $(this).closest('.product-card__option');\r\n        $optionContainer.find('.product-card__option--title').text(newTitle);\r\n\r\n        $optionContainer.find('.product-card__option--link').removeClass('active');\r\n        $(this).addClass('active');\r\n\r\n        // тут на Ajax получаем нужные данные из Woo\r\n        console.log(optionValue);\r\n\r\n    });\r\n\r\n    function waitAnimation() {\r\n        let scrollTop = $(window).scrollTop();\r\n        // start animations when it is in viewport but pause when out of it\r\n        // .out-of-viewport doing nothing if animation item can be runned only once\r\n        $('.js-wait-animation').each(function(){\r\n            if ( $(this).isInViewport() ) {\r\n                $(this).addClass('animate')\r\n                    .removeClass('out-of-viewport');\r\n            } else {\r\n                $(this).addClass('out-of-viewport');\r\n            }\r\n        });\r\n    }\r\n\r\n    $(window).on('load', function () {\r\n        initDropdownToggle([\r\n            '.dropdown-language',\r\n            '.dropdown-filter',\r\n            '.dropdown-category'\r\n        ]);\r\n        viewGridSwitcher('.catalog-view a');\r\n    });\r\n\r\n    $(window).on('load resize', img_loader);\r\n    $(window).on('load scroll', waitAnimation);\r\n\r\n    // Купить продукт\r\n    function addToCart(btnSelector) {\r\n        const $btnSelector = $(btnSelector);\r\n        $btnSelector.on('click touch', function () {\r\n            const $button = $(this);\r\n            const $upSell = $button.data('up-sell');\r\n\r\n            const $productImage = $('.gallery__media .swiper-wrapper .swiper-slide img').first();\r\n\r\n            if ($productImage.length === 0) {\r\n                console.log('Изображение не найдено.');\r\n                return;\r\n            }\r\n\r\n            const $cartHeader = $('.header__cart');\r\n            const $cartIcon = $cartHeader.find('.ico-cart');\r\n            const $cartCount = $cartHeader.find('.header__cart--count');\r\n            const $cartCountText = $cartCount.find('.count');\r\n\r\n            let currentCount = parseInt($cartCountText.text());\r\n            let newCount = currentCount +1;\r\n\r\n            if (!$upSell) {\r\n\r\n                const $flyImage = $productImage.clone().addClass('fly-image').appendTo('body');\r\n\r\n                const buttonOffset = $button.offset();\r\n                const buttonCenterX = buttonOffset.left + $button.outerWidth() / 2;\r\n                const buttonCenterY = buttonOffset.top + $button.outerHeight() / 2 - ($button.outerHeight() * 3);\r\n\r\n                const cartOffset = $cartIcon.offset();\r\n                const cartCenterX = cartOffset.left + $cartIcon.width() / 2;\r\n                const cartCenterY = cartOffset.top + $cartIcon.height() / 2;\r\n\r\n                $flyImage.css({\r\n                    top: buttonCenterY - $productImage.height() / 2,\r\n                    left: buttonCenterX - $productImage.width() / 2,\r\n                    width: $productImage.width(),\r\n                    height: $productImage.height(),\r\n                    position: 'absolute',\r\n                    zIndex: 1000,\r\n                    pointerEvents: 'none'\r\n                });\r\n\r\n                const scale = $cartIcon.width() / $productImage.width();\r\n\r\n                $flyImage.css({\r\n                    transition: 'transform 1000ms ease-in-out, opacity 1000ms ease-in-out',\r\n                    transformOrigin: 'center center',\r\n                    transform: `translate(${cartCenterX - buttonCenterX}px, ${cartCenterY - buttonCenterY}px) scale(${scale})`,\r\n                    opacity: .3\r\n                });\r\n\r\n                // Получаем данные для указанного ID продукта из Woo\r\n                const $id = 1; // для примера\r\n                const data = {\r\n                    1: {\r\n                        id: $id,\r\n                        img: 'assets/img/catalog/grace-pro-black-2x.png',\r\n                        title: 'Кiгтеточка-лежанка Grace Pro Max',\r\n                        price: '₴ 1590',\r\n                        tag: 'Для притулку',\r\n                    }\r\n                };\r\n\r\n                if (!data[$id]) {\r\n                    console.log(`Товар с ID ${$id} не найден.`);\r\n                    return;\r\n                }\r\n                const item = data[$id];\r\n\r\n                const productHtml = `\r\n                    <div class=\"popup-cart__product\">\r\n                        <div class=\"popup-cart__item \">\r\n                            <div class=\"popup-cart__item--photo\">\r\n                                <a href=\"/catalog.html\" class=\"tag tag--gift\">${item.tag}</a>\r\n                                <img src=\"${item.img}\" alt=\"${item.title}\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"popup-cart__item\">\r\n                            <div class=\"popup-cart__title\">\r\n                                <h4 class=\"body-s-reg\">${item.title}</h4>\r\n                            </div>\r\n                            <div class=\"popup-cart__details\">\r\n                                <div class=\"popup-cart__calc\">\r\n                                    <button class=\"minus\"></button>\r\n                                    <input type=\"text\" id=\"quantity_${item.id}\" name=\"quantity[]\" name=\"cart[хешWoo][qty]\" class=\"quantity body-s-sb\" value=\"1\" />\r\n                                    <button class=\"plus\"></button>\r\n                                </div>\r\n                                <div class=\"popup-cart__price\">\r\n                                    <p class=\"body-s-sb\">${item.price}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                `;\r\n\r\n                const $product = $('.popup-cart__products form');\r\n\r\n                $product.prepend(productHtml);\r\n\r\n                responsiveCart($product);\r\n\r\n                const $productFirst = $product.find('.popup-cart__product').first();\r\n                $productFirst.find('.popup-cart__calc .quantity').val(1);\r\n                initQuantityInput($productFirst);\r\n\r\n                if (newCount <= 99) $cartCountText.text(newCount);\r\n\r\n                setTimeout(() => {\r\n                    $flyImage.remove();\r\n                    $cartCount.show();\r\n\r\n                    // тут записываем в куки, что корзина не пуста для дальнейшей реализации на PHP\r\n\r\n                }, 1000);\r\n\r\n            } else {\r\n                if (newCount <= 99) $cartCountText.text(newCount);\r\n                addToCartUpSell($upSell)\r\n            }\r\n        });\r\n    }\r\n\r\n    addToCart('.product-card__buttons .add_to_cart');\r\n\r\n    function addToCartUpSell($id) {\r\n        const $product = $('.popup-cart__products form');\r\n\r\n        const $bannerCart = $('.banner-cart');\r\n        $bannerCart.find('.banner-cart__up-sell').last().show();\r\n        $bannerCart.find(`#up-sell-${$id}.banner-cart__up-sell`).hide();\r\n\r\n        // Получаем данные для указанного ID продукта из Woo\r\n        const data = {\r\n            1: {\r\n                id: 1,\r\n                img: 'assets/img/content/popup-cart-banner-2x.jpg',\r\n                title: 'Мышка-игрушка Mr. Pickles',\r\n                discount: '-30%',\r\n                price: '₴ 90',\r\n                price_discount: '₴ 125',\r\n            },\r\n            2: {\r\n                id: 2,\r\n                img: 'assets/img/content/main-card-about-2x.jpg',\r\n                title: 'Домик для кота Mr. Whiskers',\r\n                discount: '-20%',\r\n                price: '₴ 150',\r\n                price_discount: '₴ 200',\r\n            }\r\n        };\r\n\r\n        if (!data[$id]) {\r\n            console.log(`Товар с ID ${$id} не найден.`);\r\n            return;\r\n        }\r\n\r\n        const item = data[$id];\r\n\r\n        // Шаблон товара со скидкой\r\n        const upSellHtml = `\r\n            <div class=\"popup-cart__product popup-cart__up-sell\">\r\n                <div class=\"popup-cart__item\">\r\n                    <div class=\"popup-cart__item--photo\">\r\n                        <img src=\"${item.img}\" alt=\"${item.title}\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"popup-cart__item\">\r\n                    <div class=\"popup-cart__title\">\r\n                        <h4 class=\"body-s-reg\">${item.title}</h4>\r\n                    </div>\r\n                    <div class=\"popup-cart__details\">\r\n                        <div class=\"popup-cart__calc\">\r\n                            <span class=\"tag tag--discount\">${item.discount}</span>\r\n                        </div>\r\n                        <div class=\"popup-cart__price\">\r\n                            <s class=\"banner-cart__discount\">${item.price_discount}</s>\r\n                            <p class=\"body-s-sb\">${item.price}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `;\r\n\r\n        const $productFind = $product.find('.popup-cart__product');\r\n\r\n        if ($productFind.length === 0) {\r\n            $product.prepend(upSellHtml);\r\n        } else {\r\n            const $productLast = $productFind.last();\r\n            $productLast.after(upSellHtml);\r\n        }\r\n\r\n        responsiveCart($product);\r\n    }\r\n\r\n    addToCart('.banner-cart__up-sell .add_to_cart');\r\n\r\n    function initQuantityInput($container) {\r\n        $container.find('.popup-cart__calc').each(function() {\r\n            const $calc = $(this);\r\n\r\n            $calc.on('click touch', '.minus', function() {\r\n                const $input = $(this).siblings('.quantity');\r\n                let currentValue = parseInt($input.val(), 10);\r\n\r\n                if (currentValue > 1) {\r\n                    $input.val(currentValue - 1);\r\n                }\r\n            });\r\n\r\n            $calc.on('click touch', '.plus', function() {\r\n                const $input = $(this).siblings('.quantity');\r\n                let currentValue = parseInt($input.val(), 10);\r\n                $input.val(currentValue + 1);\r\n            });\r\n\r\n            $calc.on('input', '.quantity', function() {\r\n                let currentValue = $(this).val();\r\n                if (!/^\\d+$/.test(currentValue) || parseInt(currentValue, 10) < 1) {\r\n                    $(this).val(1);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    function responsiveCart($product) {\r\n        if ($product.find('.popup-cart__product').length > 3) {\r\n            $('.popup-cart').css('margin-bottom', '155px');\r\n            $('.banner-cart').css('margin', '20px 0');\r\n            $product.find('.popup-cart__totals.responsive').addClass('popup-cart__responsive');\r\n            $product.find('.banner-cart__up-sell.responsive').addClass('banner-cart__responsive');\r\n        }\r\n    }\r\n\r\n    function playVideoThank(videoContainer, button, text = null, fixContainer = null) {\r\n        const $videoContainer = $(videoContainer);\r\n        const $fixContainer = $(fixContainer);\r\n        const $video = $videoContainer.find('video');\r\n        const $button = $videoContainer.find(button);\r\n        const $text = $videoContainer.find(text);\r\n\r\n        $video.on('pause', function () {\r\n            $button.show();\r\n            $button.css('opacity', '1');\r\n            $fixContainer.css('position', 'relative');\r\n            $video.removeAttr('style');\r\n        });\r\n\r\n        $button.on('click', function (e) {\r\n            if ($video[0].paused) {\r\n                $video[0].play();\r\n                $button.css('opacity', '.5');\r\n                $text.hide();\r\n                $fixContainer.css('position', 'static');\r\n                $video.css({\r\n                    'position' : 'absolute',\r\n                    'top' : 0,\r\n                    'left' : 0,\r\n                });\r\n\r\n            } else {\r\n                $video[0].pause();\r\n                $button.css('opacity', '1');\r\n                $text.show();\r\n                $fixContainer.css('position', 'relative');\r\n                $video.removeAttr('style');\r\n            }\r\n        });\r\n\r\n        $video.on('click', function () {\r\n            if (this.played) {\r\n                this.pause();\r\n                $button.css('opacity', '1');\r\n                $text.show();\r\n                $fixContainer.css('position', 'relative');\r\n                $video.removeAttr('style');\r\n            }\r\n        });\r\n\r\n        function playMouse($html, event, value) {\r\n            $html.on(event, function () {\r\n                $button.css('opacity', value);\r\n            });\r\n        }\r\n        playMouse($button, 'mouseenter', '1');\r\n        playMouse($videoContainer, 'mouseleave', '1');\r\n        playMouse($button, 'mouseleave', '.5');\r\n\r\n        $(document).on('keyup', function (e) {\r\n            if (e.key === 'Escape' || e.keyCode === 27) {\r\n                if ($video[0].played) {\r\n                    $video[0].pause();\r\n                    $button.show();\r\n                    $text.show();\r\n                    $button.css('opacity', '1');\r\n                    $fixContainer.css('position', 'relative');\r\n                    $video.removeAttr('style');\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // Ми шукамо\r\n    function initializeAccordion(button, content, item) {\r\n        $(button).on('click', function(e) {\r\n            e.preventDefault();\r\n\r\n            const $accordionItem = $(this).closest(item);\r\n            const $visible = $accordionItem.find(content);\r\n\r\n            if (!$accordionItem.hasClass('active')) {\r\n                $accordionItem.siblings().removeClass('active').find(content).slideUp();\r\n                $accordionItem.addClass('active');\r\n                $visible.stop(true, true).slideDown();\r\n            } else {\r\n                $accordionItem.removeClass('active');\r\n                $visible.stop(true, true).slideUp();\r\n            }\r\n        });\r\n    }\r\n\r\n    // Адаптивное меню с прокруткой\r\n    function modelsMenu(menu, item) {\r\n        const $menu = $(menu);\r\n        const $items = $menu.find(item);\r\n\r\n        function centerActiveItem($item) {\r\n            const menuWidth = $menu.outerWidth();\r\n            const menuScrollLeft = $menu.scrollLeft();\r\n            const itemOffsetLeft = $item.offset().left;\r\n            const menuOffsetLeft = $menu.offset().left;\r\n            const itemLeft = itemOffsetLeft - menuOffsetLeft;\r\n            const itemWidth = $item.outerWidth();\r\n            const scrollTo = menuScrollLeft + itemLeft - (menuWidth / 2) + (itemWidth / 2);\r\n            $menu.animate({ scrollLeft: scrollTo }, 300);\r\n        }\r\n\r\n        $items.on('click', function () {\r\n            const $clickedItem = $(this);\r\n            $items.removeClass('active');\r\n            $clickedItem.addClass('active');\r\n            centerActiveItem($clickedItem);\r\n        });\r\n\r\n        // Установить начальный активный элемент, если он есть, в центр\r\n        const $initialActive = $menu.find(item + '.active');\r\n        if ($initialActive.length) {\r\n            centerActiveItem($initialActive);\r\n        }\r\n    }\r\n\r\n    function playVideo(videoContainer) {\r\n        const $videoContainer = $(videoContainer);\r\n        const $video = $videoContainer.find('video');\r\n        const $button = $videoContainer.find('.video-block__button--mp4');\r\n        const $useIco = $button.find('.ico-video-button > use');\r\n\r\n        $button.on('click', function () {\r\n            // Ставим все остальные видео на паузу\r\n            $('.video-block__source video').each(function () {\r\n                if (this !== $video[0]) {\r\n                    this.pause();\r\n                    $(this).closest('.video-block__source')\r\n                        .find('.ico-video-button > use')\r\n                        .attr('href', 'assets/img/sprite.svg#ico-play');\r\n                }\r\n            });\r\n\r\n            if ($video[0].paused) {\r\n                $video[0].play();\r\n                $useIco.attr('href', 'assets/img/sprite.svg#ico-pause');\r\n            } else {\r\n                $video[0].pause();\r\n                $useIco.attr('href', 'assets/img/sprite.svg#ico-play');\r\n            }\r\n        });\r\n    }\r\n\r\n    $(function() {\r\n\r\n        $('.video-block__source').each(function () {\r\n            playVideo(this);\r\n        });\r\n\r\n        modelsMenu('.models-menu', '.models-menu__item');\r\n        playVideoThank('.thank-page__video', '.thank-page__button', '.thank-page__play--text', '.thank-page__item');\r\n        initializeAccordion('.accordion-open', '.accordion__content', '.accordion__item');\r\n    });\r\n\r\n})(jQuery);"],"names":["$","fn","percentOfViewport","viewportHeight","window","height","elementTop","this","offset","top","elementBottom","viewportTop","scrollTop","viewportBottom","ELtop_to_VPtop","ELbottom_to_VPtop","ELtop_to_VPbottom","ELbottom_to_VPbottom","isInViewport","p","on","toggleClass","slideToggle","let","navigationWrapper","css","removeAttr","padding-bottom","mask","id","attr","pos","location","pathname","outerHeight","animate","video","siblings","play","controls","hide","previewProductCard","Swiper","direction","slidesPerView","spaceBetween","thumbs","swiper","slidesOffsetBefore","slidesOffsetAfter","navigation","nextEl","prevEl","pagination","el","clickable","event","preventDefault","category","$dialogs","$categoryDialogs","find","$flexPopup","popupCategory","slice","localStorage","setItem","overflow-y","removeClass","length","show","addClass","opacity","previewPopUpGallery","console","log","$popupToOpen","popupId","bodyScroll","removeClassPopup","index","className","match","join","$popupActive","right","getItem","bottom","document","e","key","keyCode","trigger","DROPDOWN_CLASS","addToCart","btnSelector","$button","$upSell","data","$productImage","first","$cartHeader","$cartIcon","$cartCount","$cartCountText","newCount","parseInt","text","$id","$product","$bannerCart","last","1","img","title","discount","price","price_discount","2","upSellHtml","item","$productFind","prepend","after","responsiveCart","$flyImage","clone","appendTo","buttonOffset","buttonCenterX","left","outerWidth","buttonCenterY","cartOffset","cartCenterX","width","cartCenterY","scale","position","zIndex","pointerEvents","transition","transformOrigin","transform","tag","productHtml","$productFirst","val","each","$calc","$input","currentValue","test","setTimeout","remove","stopPropagation","$filter","closest","$list","activeFilters","map","get","$items","forEach","filter","$card","$images","optionValue","fadeIn","newTitle","$optionContainer","selectors","btnSelectors","next","hasClass","target","viewGridSwitcher","$btnSelector","view","$wrapper","src","srcset","classes","alt","Image","replaceWith","playVideo","videoContainer","$video","$videoContainer","$useIco","pause","paused","modelsMenu","menu","$menu","centerActiveItem","$item","menuWidth","scrollTo","scrollLeft","$clickedItem","$initialActive","playVideoThank","button","fixContainer","$fixContainer","$text","playMouse","$html","value","played","content","$accordionItem","$visible","stop","slideUp","slideDown","jQuery"],"mappings":"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"}