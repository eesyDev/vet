(s=>{s("form").on("submit",function(){let e=s(this),r=0;e.find(".error").remove(),e.find(".required").removeClass("required");var i=e.find('input[name="action"]').val();return e.find("input[data-required], textarea[data-required], select[data-required]").each(function(){var e=s(this).attr("data-error")||"This field is required";s(this).is(":checkbox")?s(this).is(":checked")||(s(this).closest(".inp-wrp").append(`<div class="error">${e}</div>`),s(this).addClass("required")):s(this).val().trim()||(s(this).closest(".inp-wrp").append(`<div class="error">${e}</div>`),s(this).addClass("required"))}),e.find("input.inp-email").each(function(){var e=s(this);r=e.val().trim()&&!/^([a-z0-9_\.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/i.test(e.val())?(e.closest(".inp-wrp").append('<div class="error">Invalid email address</div>'),e.addClass("required"),0):1}),e.find(".required").length||0===r?["call","consult","work_offer","order_products_one_click"].includes(i)||(i=e.find(".required").first()).length&&App.scrollTopBody(i,96,600):s.ajax({type:"POST",url:"/mailer/mail.php",data:e.serialize(),cache:!1,success:function(){s("#thanks-popup").show(),e[0].reset()},error:function(){alert("Error occurred while submitting the form.")}}),!1}),s("input, textarea, select").on("click focus change",function(){s(this).removeClass("required"),s(this).closest(".inp-wrp").find(".error").remove()}),s('input[type="checkbox"][data-required]').on("change",function(){s(this).is(":checked")&&(s(this).removeClass("required"),s(this).closest("label").find(".error").remove())}),s("#dont-call-back").on("change",function(){var e=s(this).closest(".order-form").find(".order-form__dont-call-back");s(this).is(":checked")?e.stop(!0,!0).slideDown(300):e.stop(!0,!0).slideUp(900)}),App.initFileUpload("#work_offer-drop","#work_offer-file","#work_offer-drop span",40)})(jQuery);
//# sourceMappingURL=form.js.map
